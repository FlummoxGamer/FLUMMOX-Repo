name: Debug Project Structure

on:
  push:
    branches: [ main, master ]

jobs:
  debug:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Check Project Setup
      run: |
        echo "=== Complete File Structure ==="
        find . -type f -name "*.kt" -o -name "*.java" -o -name "build.gradle.kts" -o -name "settings.gradle.kts" | head -30
        
        echo "=== GhostStreamProvider Source Files ==="
        find GhostStreamProvider/src -type f 2>/dev/null | head -20 || echo "No src directory"
        
        echo "=== Settings.gradle.kts ==="
        cat settings.gradle.kts
        
        echo "=== GhostStreamProvider build.gradle.kts ==="
        cat GhostStreamProvider/build.gradle.kts
        
        echo "=== Root build.gradle.kts ==="
        cat build.gradle.kts
        
    - name: Check Gradle Projects
      run: |
        chmod +x gradlew
        ./gradlew projects --console=plain
